## SORT

Очень простое приложение, имеющее урезанный функционал gnu sort.

### USAGE:
```
NAME:
    sort - сортирует строки в текстовых файлах

SYNOPSIS:
    sort [OPTION]... [IN] [OUT]
    sort -b -n IN [OUT]
    sort -M -k 3

DESCRIPTION:
    Сортирует строки из файла IN и сохраняет в OUT

    Если IN не указан, то считывает строки из stdin до его закрытия
    Если указан только один файл, то он считается IN
    Если OUT не указан, то выводит результат работы в stdout
    Если не задана сортировка, то сортирует в лексикографическом порядке

    Опции:

    -b 
        Игнорировать хвостовые пробелы (лидирующие и хвостовые)
    
    -c 
        Провкра на отсортированность (не сортирует)
    
    -k k=COL
        Сортировать по колонке COL
        
        Строка разбивается по пробельным символам, 
        Если использовать с ключом b, то не будут учитываться колонки 
        с конца и в начале

        Если в строке количетсво колонок меньше нужного, то ключ будет равен "", а утилита выдаст предупреждение в stderr
    
    -M
        Сравнение по месяцам (unknown) < 'JAN' < ... < 'DEC'

    -n
        Сравнение по строково-числовому значению
        В качестве числа берется максимальный целочисленный префикс

        Если в строке нет числа, то она сортируется так, 
        если бы у нее был префикс "0"

        Если префиксы одинаковы, то выбирается наименьший ключ

    -r
        Производит сортировку в обратном направлении. Опция применяется последней
    
    -u
        Выводит только уникальные строки

    Опции, определяющие тип сортировки, являются взаимоисключающими:
        -n, -M
    Утилита сразу же завершится, если одновременно задано несколько типов сортировки.

    Утилита использует внутренюю сортировку, поэтому лучше не стоит сортировать большие файлы (Вес которых эквивалентен с объемом RAM).

```

### Для начала работы нужно ответить на следующие вопросы:
- [x] [Как читать аргументы?](#чтение-аргументов)
- [x] [как сортировать?](#сортировка)
- [x] [Как в go работать с файлами?](#работа-с-файлами)
- [x] [Как скопоновать это все?](#компоновка)

### Чтение аргументов
Для парсинга аргументов буду использовать стандартный пакет flag.

В данном случае все аргументы необязательные. Поэтому для ключей без значений буду использовать тип bool, а для ключей со значениями - само значение, но если ключ не был указан - нулевое значение.

Если файлы не были заданы, то их пути будут пусты.

Нужно производить проверку на взаимоисключение и указывать на это пользователю.

### Сортировка
Будем использовать стандартный пакет sort. 
Исходя из аргументов будем строить нужную сортировку.

Кроме этого, исходя из типа сортировки (-n, -M, -h) - будем использовать 
нужную имплементацию интерфейса sort.Interface

Ключи будем строить по ходу чтения файла

### Работа с файлами
Файл можно открыть с помощью os.OpenFile(), дополнительно задав параметры.
Но для открытия на чтения можно использовать функцию os.Open()
А для записи - os.Create()

Получить поток ввода/вывода можно с помозью.

Файлы и потоки в unix среде являются одним и тем же, поэтому 
с ними можно работать одинаково. Непосредственно в go они реализуют 
интерфейс io.Writer и io.Reader.

Будем использовать bufio для буфферизации ввода/вывода, это позволит делать меньше системных вызовов и ускорит работу. Кроме этого в пакете bufio есть Scanner, который позволяет удобно считывать файл по строкам. А запись будем делать через Writer.

### Алгоритм работы

1. Чтение конфигов и их валидация
2. Исполнение программы:
   1. Файл ввода
   2. Первоначальный обработчик строки для вытаскивания ключа
   3. Выбор реализации sort.Interface
   4. Построение сортировки
   5. Дополнительные параметры
   6. Файл вывода